<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "https://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="memberMapper">

	<resultMap type="CookieToken" id="cookieTokenResultMap">
		<result column="COOKIE_NO" property="cookieNo"/>
		<result column="USER_NO" property="userNo"/>
	</resultMap>
	
	<insert id="insertMember" parameterType="CookieToken">
	    <selectKey keyProperty="tokenNo" resultType="int" order="BEFORE">
	        SELECT seq_cookie_token.nextval FROM dual
	    </selectKey>
	    INSERT INTO cookie_token (token_no, token,user_no)
	    VALUES (#{tokenNo}, #{token}, #{userNo})
	</insert>
	
</mapper>
