<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
    PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
    "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="productMapper">

    <!-- 전체 게시글 수 조회 -->
    <select id="getListCount" resultType="int">
        SELECT COUNT(*) FROM product
    </select>

    <!-- 페이지네이션 적용된 게시글 리스트 조회 -->
    <select id="selectProductList" resultType="com.gaonna.yami.product.model.ProductDTO">
        SELECT * FROM (
            SELECT ROWNUM rnum, P.*
            FROM (SELECT * FROM product ORDER BY product_no DESC) P
        )
        WHERE rnum BETWEEN #{startRow} AND #{endRow}
    </select>

</mapper>